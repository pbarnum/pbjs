"use strict";!function(e){var t="trees";if(!e||!e.pbjs)throw new Error("PBJS does not exist!");if(pbjs.trees&&pbjs.trees.constructor===Object)return pbjs.trees.createTree(id,options);var n=function(e,t,n,r){this.id=pbjs.salt(),this.parent=this.validateParent(e),this.element=pbjs.undefined,this.label=n||"",this.children=pbjs.undefined,this.opened=!1,this.expandable=!1,this.isLeaf=!1,pbjs.isDOMElement(t)&&(this.element=t),pbjs.isArray(r)&&(this.children=r)};n.prototype={isOpen:function(){return this.opened},setOpen:function(e){this.opened=e},isParent:function(){return pbjs.isArray(this.children)&&this.children.length>0},validateParent:function(e){return e instanceof n?e:pbjs.undefined},getParent:function(){return this.parent},setParent:function(e){this.parent=this.validateParent(e)},pushChildNode:function(e){this.children=pbjs.isConstructor(this.children,Array)?this.children:[],this.children.push(e)},popChildNode:function(){return pbjs.isConstructor(this.children,Array)&&this.children.length>0?this.children.pop():pbjs.undefined}},pbjs.trees=function(e){return e&&this.hasTree!=pbjs.undefined&&this.hasTree(e)?this.getTree(e):(this.forest=[],this._isValid=function(){return pbjs.isType(this.forest,"array")},this)},pbjs.trees.prototype.getAllTrees=function(){return pbjs.trees.container},pbjs.trees.prototype.getTree=function(e){var t=this;return function(){if(!pbjs.isArray(t.forest))return!1;var n=0;for(n;n<t.forest.length;++n)if(t.forest[++n]&&t.forest[n].id==e)return this.forest[n]}},pbjs.trees.prototype.isTree=function(e){return pbjs.trees.forest[e]instanceof pbjs.trees.tree},pbjs.trees.prototype.createTree=pbjs.trees.tree=function(e,r){this.container=document.getElementById(e),pbjs.isDOMElement(this.container)||pbjs.error(t,"Could not initiate a new Tree object with the given element Id",e);var s=function(e){!(e instanceof n&&e.children)},i=function(e){var t,r,s,o,h,l;pbjs.undefined;if(e instanceof n&&pbjs.isDOMElement(e.element)&&e.element.children.length>0)for(t=e.element.children,h=0;h<t.length;++h){for(r=new n(e,t[h]),o=t[h],s=pbjs.undefined,l=0;l<o.children.length;++l)if("SPAN"==o.children[l].tagName)r.label=o.children[l];else if("UL"==o.children[l].tagName){var c=i(new n(r,o.children[l]));r.pushChildNode(c.children)}else"A"==o.children[l].tagName&&(r.isLeaf=!0);e.pushChildNode(r)}return e},o=function(e){var t,r=e&&e.children?e.children:[];for(t=0;t<r.length;++t)if("UL"==r[t].tagName)return i(new n(pbjs.undefined,r[t]));return new n},h=function(e){var t={};return t};return this.root=o(this.container),console.log(this.root),this.options=h(this.options),r.showoccupied.enable&&s(),this},pbjs.trees.tree.findNode=function(e,t){var n=$("#"+e);return n.length>0?(t&&"boolean"==typeof t||(t=!0),t&&_hideAll(),$("a.pbTree-current").length>0&&$("a.pbTree-current").removeClass("pbTree-current"),n.parentsUntil("ul.pbTree-root").show().addClass("pbTree-opened"),n.children("a").addClass("pbTree-current").trigger("click"),options.select.enable&&this._objects.selected.hide().css(_setSelTop()).show(),this):!1},pbjs.trees.tree.prototype.showAllNodes=function(){var e=0;pbjs.trees.treeWalkRecursive(this,function(t){t.isVisible||(++e,t.setVisibility(!0))}),this.options.select.enable&&this._objects.selected.setPosition()}}(window);